<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="A embedded programer">
<meta property="og:type" content="website">
<meta property="og:title" content="Lim&#39;s blog">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Lim&#39;s blog">
<meta property="og:description" content="A embedded programer">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Lin Yuanbo">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Lim's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Lim's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">sub blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>Commonweal 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/03/soft-skills-chapter-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Lin Yuanbo">
      <meta itemprop="description" content="A embedded programer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lim's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/03/soft-skills-chapter-2/" class="post-title-link" itemprop="url">软技能-第二章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-03 00:00:00" itemprop="dateCreated datePublished" datetime="2021-07-03T00:00:00+00:00">2021-07-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-01-06 12:23:29" itemprop="dateModified" datetime="2022-01-06T12:23:29+00:00">2022-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/" itemprop="url" rel="index"><span itemprop="name">博览群书</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="从非同凡响开始：绝不要做他人都在做的事"><a href="#从非同凡响开始：绝不要做他人都在做的事" class="headerlink" title="从非同凡响开始：绝不要做他人都在做的事"></a>从非同凡响开始：绝不要做他人都在做的事</h2><h3 id="拥有商业心态"><a href="#拥有商业心态" class="headerlink" title="拥有商业心态"></a>拥有商业心态</h3><blockquote>
<p>这是你职业生涯中必须要做的第一要务：转变你的心态，从被一纸 “ 卖身契 ” 束缚住的仆人转变为一名拥有自己生意的商人。在起步阶段就具备这种心态会改变你对职业生涯的思维方式，将此铭记在心，并积极主动地管理自己的职业生涯。</p>
</blockquote>
<h3 id="如何像企业一样思考"><a href="#如何像企业一样思考" class="headerlink" title="如何像企业一样思考"></a>如何像企业一样思考</h3><p>你需要做到：</p>
<ul>
<li>专注于你正在提供怎样的服务，以及如何营销这项服务；</li>
<li>想方设法提升你的服务；</li>
<li>思考你可以专注为哪一特定类型的客户或行业提供特定的服务；</li>
<li>集中精力成为一位专家，专门为某一特定类型的客户提供专业的整体服务（记住，作为一个软件开发人员，你只有真正专注于一类客户，才能找到非常好的工作）。</li>
</ul>
<blockquote>
<p>采取行动</p>
<ul>
<li><p>想象一下：有一家企业，拥有某个产品或服务。他们将如何推广这一产品或服务从而可以做到卓尔不凡？</p>
</li>
<li><p>如果只用一句话来描述你能成为潜在雇主或客户提供怎样的特定服务，这句话是什么？</p>
</li>
<li><p>把你的职业当做是一个企业，将会影响到你的：</p>
<ul>
<li>工作方式</li>
<li>处理自己的财物的方式</li>
<li>寻求新工作或新客户的方式。</li>
</ul>
</li>
</ul>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/03/soft-skills-chapter-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Lin Yuanbo">
      <meta itemprop="description" content="A embedded programer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lim's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/03/soft-skills-chapter-3/" class="post-title-link" itemprop="url">软技能-第三章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-03 00:00:00" itemprop="dateCreated datePublished" datetime="2021-07-03T00:00:00+00:00">2021-07-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-01-06 12:23:29" itemprop="dateModified" datetime="2022-01-06T12:23:29+00:00">2022-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/" itemprop="url" rel="index"><span itemprop="name">博览群书</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="思考未来：你的目标是什么"><a href="#思考未来：你的目标是什么" class="headerlink" title="思考未来：你的目标是什么"></a>思考未来：你的目标是什么</h2><h3 id="如何设定目标"><a href="#如何设定目标" class="headerlink" title="如何设定目标"></a>如何设定目标</h3><p>大目标并不需要那么具体，但是必须足够清晰，能够让你知道自己是在向它前进还是离他越来越远。</p>
<p>如果你可以驱动小目标逐渐前行并靠近你的大目标， 那么最终你一定会到达目的地。 设定大小不同的目标， 确保你向着自己的大目标前进， 这一点非常重要。</p>
<p>较小的目标可以让你航行在自己的轨道上，激励你保持航向朝着更大的目标前进。如果你准备达成一个大目标，却没有分解为小目标，那么当你偏离航向时也不会有时间去校正。达成较小的目标也能经常奖励自己，帮助并激励自己。每一天、每一个星期的小胜利会让我们觉得自己正在取得进展、达成目标，这让我们感觉良好，帮助我们继续前进。较小的目标似乎也不像大目标那样令人望而生畏。</p>
<h3 id="追踪你的目标"><a href="#追踪你的目标" class="headerlink" title="追踪你的目标"></a>追踪你的目标</h3><p>你应该定期追踪并更新自己设定的目标， 必要时还要调整。你并不想偏离航海图数英里之后才发现自己走错了方向，也不想沿着一条路线走了很远却发现这条路是错的。我建议你定期核对自己的目标。这有助于在必要时进行调整，让你对自己负责。</p>
<blockquote>
<p>采取行动</p>
<ul>
<li><p>坐下来为你的职业生涯设置至少一个大目标。</p>
</li>
<li><p>将大目标分解成相应的若干小目标，例如：</p>
<ul>
<li>月度目标；</li>
<li>周目标；</li>
<li>每日目标；</li>
</ul>
</li>
<li><p>把你的大目标写在自己每天的必经之地，每日三省吾身——我在追求什么？</p>
</li>
</ul>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/03/soft-skills-chapter-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Lin Yuanbo">
      <meta itemprop="description" content="A embedded programer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lim's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/03/soft-skills-chapter-4/" class="post-title-link" itemprop="url">软技能-第四章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-03 00:00:00" itemprop="dateCreated datePublished" datetime="2021-07-03T00:00:00+00:00">2021-07-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-01-06 12:23:29" itemprop="dateModified" datetime="2022-01-06T12:23:29+00:00">2022-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/" itemprop="url" rel="index"><span itemprop="name">博览群书</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="人际交往能力：远比你想象的重要"><a href="#人际交往能力：远比你想象的重要" class="headerlink" title="人际交往能力：远比你想象的重要"></a>人际交往能力：远比你想象的重要</h2><h3 id="每个人都希望感到自己很重要"><a href="#每个人都希望感到自己很重要" class="headerlink" title="每个人都希望感到自己很重要"></a>每个人都希望感到自己很重要</h3><p>当你和别人打交道的时候，你应该知道的最重要的一个概念就是以自己为核心，每个人都希望自己很重要，这是人类最深邃、最致命的欲望之一，也是社会和生活中取得伟大成就的主要动机。</p>
<p>每当你与他人交流时，请谨记这一准则，并时刻洞察自己，将会对人类的这一基本需求有何影响，一旦你贬低他人，削弱他人的成就感，在某种程度上，就如同切断了他们的氧气补给，获得的回馈将是完全是抓狂和绝望。</p>
<p>我们常常容易犯的一项错误就是，轻率地否定同事的想法，以便于可以提出自己的想法。然而随着你做出这样的错误判断，你往往会发现他们对你的想法充耳不闻，仅仅因为你让他们感觉自己是无足轻重的。如果你希望人们接受你的想法，并认可其中的价值，首先你最好先主动给他人相同的礼遇。如果你不能保全他人的自尊，那你永远也不可能赢得他的心。</p>
<h3 id="永远不要批评"><a href="#永远不要批评" class="headerlink" title="永远不要批评"></a>永远不要批评</h3><p>一项又一项的研究表明奖励积极行为要比惩罚消极，行为有效的多，如果你身处领导岗位，这是一条值得遵守的重要原则，如果你想激励他人做出最好的表现，或者希望达到改变的目的，你必须学会管住自己的舌头，只说些鼓励的话。</p>
<h3 id="换位思考"><a href="#换位思考" class="headerlink" title="换位思考"></a>换位思考</h3><p>在人际交往方面获得成功的关键在于停止用“我”和“我想要什么”来思考，你应当开始思考对他人而言什么才是最重要的，什么才是他们需要的，通过这种换位思考，你会避免让他人觉得自己不受重视，你也能少批评人，被你用这种方式对待的人，也更可能用讨人喜欢的方式与你打交道，也更认可你的想法的价值。</p>
<p>当你第一次与某位同事或者老板谈话的时候，请试着将注意力从自己的身上转移到他们身上，试着从他们的角度来思考问题。</p>
<p>直截了当的告诉老板，为什么你喜欢想用某种方式实现某个功能，这并不明智。更好的办法是从对方的心态出发提出建议，阐明为什么采用你建议的方法实现该功能对老板非常有用，理由是“让软件更稳定”，或者“能让软件按时交付”。</p>
<h3 id="避免争吵"><a href="#避免争吵" class="headerlink" title="避免争吵"></a>避免争吵</h3><p>作为软件开发人员，我们有时候倾向于认为所有人都是从逻辑角度来思考问题的，这很容易让你落入陷阱，错误的认为严谨的推理足以使他人接受你的思维方式。</p>
<p>如果你因为“该怎么做某事”与他人产生分歧，那么在很多情况下，你最好确定分歧点，是否值得你拼命维护，特别是在你知道他已让人卷入时，在小事情上任何放弃立场或承认错误的机会，对你而言可能没什么大不了的，但对他人可能是举足轻重的，这么做不仅能为你赢得不可估量的尊重，也能为你的未来积蓄财富，形势逆转时即可兑现使用。</p>
<blockquote>
<p>采取行动</p>
<ul>
<li>下一次当你被拖入一场争吵之前，想办法看看能不能逆转，做个有趣的小测试，试着认输。事实上，不仅仅要认输，更要果断站在对手一边，结果能让你大吃一惊。</li>
</ul>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/03/soft-skills-chapter-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Lin Yuanbo">
      <meta itemprop="description" content="A embedded programer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lim's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/03/soft-skills-chapter-5/" class="post-title-link" itemprop="url">软技能-第五章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-03 00:00:00" itemprop="dateCreated datePublished" datetime="2021-07-03T00:00:00+00:00">2021-07-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-01-06 12:23:29" itemprop="dateModified" datetime="2022-01-06T12:23:29+00:00">2022-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/" itemprop="url" rel="index"><span itemprop="name">博览群书</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="破解面试之道"><a href="#破解面试之道" class="headerlink" title="破解面试之道"></a>破解面试之道</h2><h3 id="通过面试的最快捷的方式"><a href="#通过面试的最快捷的方式" class="headerlink" title="通过面试的最快捷的方式"></a>通过面试的最快捷的方式</h3><p>想象一下这样的场景：你走进面试房间，与面试官握手致意。当他看你的时候，脸上露出了似曾相识的表情：“嘿，我认识你。我在你博客上看过你的照片。我读过你博客上的好多文章呢。”</p>
<p>关键点在于：与主流观念相反，大多数面试官决定雇用某个人其实是基于各种各样的非技术因素。</p>
<p>简而言之，通过面试的最快捷的方式是让面试官对你怀有好感。达成该目标有很多方法，其中大多数可以在面试之前完成。</p>
<h3 id="我是如何得到最后一份工作的"><a href="#我是如何得到最后一份工作的" class="headerlink" title="我是如何得到最后一份工作的"></a>我是如何得到最后一份工作的</h3><p>现在来说说我自主创业之前的那份工作。我是事先就确定我要为这家公司工作的，因为这家公司看起来很不错，而且允许开发人员在家办公。我花了一些时间研究这家公司，找出这个公司有哪些开发人员在写博客。我开始关注为这家公司工作的开发人员的所有博客，并开始在他们的博客文章下留下经过深思熟虑的评论。</p>
<p>慢慢地，许多在这家公司供职的开发人员开始认识我了，并通过我给他们博客做出的评论知道了我是谁。他们中的一些人甚至开始读我的博客。</p>
<p>接下来，当这家公司开始招聘开发人员的时候，我递交了申请。你们觉得我得到这份工作得费多少力气？当然，我仍然需要面试，但是只要自己不搞得一塌糊涂，我就如探囊取物一般得到了这份工作，薪水还挺高（如果不用这种方法申请这份工作，我也就不会得到这么高的薪水）。</p>
<h3 id="突破陈规，建立融洽关系"><a href="#突破陈规，建立融洽关系" class="headerlink" title="突破陈规，建立融洽关系"></a>突破陈规，建立融洽关系</h3><p>从期待加入的公司里找到联系人 —&gt; 与该联系人建立紧密关系 —&gt; 获得个人推荐 —&gt; 面试</p>
<h3 id="真正的面试会是什么样子的"><a href="#真正的面试会是什么样子的" class="headerlink" title="真正的面试会是什么样子的"></a>真正的面试会是什么样子的</h3><p>如果顺利的话，在你走进面试间的时候，面试官已经知道你是谁了，但无论如何，你都需要了解在面试时自己该做什么。现在，很明显，你需要从技术能力上证明你可以通过技术面试。就像你有两把刷子，那就说出来。接下来要关注的事情就是自信地展示自己的能力——知道要获得这份工作需要做什么，做就是了。</p>
<p>从雇主的角度看，招聘员工就是一项投资。招聘员工要花费时间和金钱，所以老板当然想看到良好的投资回报率。能够自发地、无需过问就能做事的员工通常能增加公司的净收入，此外，他们也让老板少操心，只占用少量的管理资源。</p>
<p>与雇用技术高超但需要生拉硬拽才能干活的人相比，我宁愿雇用这样的开发人员：知道的东西可以少一点，但是明确知道要做什么，以及怎样去做。从某种程度上，在你可控的范围之内，面试的时候你要集中精力证明自己就是无需督促也能自动自发做好事情的员工。</p>
<p>你还必须要证明：在技术上你确实胜任工作。同时，如果你能说服面试官相信你非常能干，不会被困难阻挡，那么他们不仅会喜欢你，而且更有可能会录用你。</p>
<h3 id="当下你能做什么"><a href="#当下你能做什么" class="headerlink" title="当下你能做什么"></a>当下你能做什么</h3><p>你应该做的第一件事是确保自己仍旧保持技术能力。</p>
<p>你也可以未雨绸缪，拓展自己的社交网络。开始与本领域不同公司的员工接触，建立联系，他们日后可能会帮到你。通过阅读并评论他们的博客，认识本领域的其他开发人员甚至是招聘人员。想方设法扩大你的社交社交圈子。</p>
<p>别忘了实践。即便你现在对换新工作毫无兴趣，为了获得面试经验，你也要去面试。练习得越多，你在真正的面试时也就越游刃有余。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/03/soft-skills-chapter-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Lin Yuanbo">
      <meta itemprop="description" content="A embedded programer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lim's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/03/soft-skills-chapter-7/" class="post-title-link" itemprop="url">软技能-第七章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-03 00:00:00" itemprop="dateCreated datePublished" datetime="2021-07-03T00:00:00+00:00">2021-07-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-01-06 12:23:29" itemprop="dateModified" datetime="2022-01-06T12:23:29+00:00">2022-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/" itemprop="url" rel="index"><span itemprop="name">博览群书</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="你是哪类软件开发人员"><a href="#你是哪类软件开发人员" class="headerlink" title="你是哪类软件开发人员"></a>你是哪类软件开发人员</h2><h3 id="专业化很重要"><a href="#专业化很重要" class="headerlink" title="专业化很重要"></a>专业化很重要</h3><p>你可能会害怕专攻软件开发的某一领域，担心自己陷入很窄的专业领域，从而与其他的工作和机会绝缘。虽然专业化确实会把你关在一些机会的大门之外，但与此同时它将打开的机会大门要比你用其他方式打开的多得多。</p>
<p>从表面上看，身为“专才”后，潜在雇主和客户群都变小了，但是实际上你对他们更具吸引力了。只要你专业能力雄厚，市场没有过渡饱和，与那些自称为“软件开发人员”的人相比，你能更轻松地找到工作或者赢得客户。</p>
<h3 id="在一个专业方向上拥有专长"><a href="#在一个专业方向上拥有专长" class="headerlink" title="在一个专业方向上拥有专长"></a>在一个专业方向上拥有专长</h3><blockquote>
<p>注意  专业化的规则是：专业化程度越深，潜在的机会就越少，但获得这些机会的可能性越大。</p>
</blockquote>
<p>假设你正在你所在地寻求一份工作，并且你是一个Java开发人员。很多大都市对Java开发人员都有相当大的需求，所以开始的时候你会拥有一个很棒的大水池——你可以得到很多工作机会。但其实你并不需要所有的这些工作机会，只要一个就够了。</p>
<h3 id="选择你的专业"><a href="#选择你的专业" class="headerlink" title="选择你的专业"></a>选择你的专业</h3><p>对于我的专业化观点，大多数软件开发人员表示赞同。但是，我常常被问到如何选择一个专业方向。选择一个专业领域是一项艰巨的任务。</p>
<p>这里有一些技巧来帮你选择自己的专业。</p>
<ul>
<li>在你现在或以前工作的公司里，有哪些主要的痛点？你能成为一名专门解决这些痛点的专家吗？</li>
<li>有没有一种特定的工作是无人能做，或者缺乏经验丰富的人？成为这个领域的专家，你就会获得大量业务。</li>
<li>在各种会议上和用户组中哪些话题最常出现？</li>
<li>哪类问题你回复的最多，无论是针对同事还是在Stack Overflow（<a target="_blank" rel="noopener" href="http://stackloverflow.com/">http://stackloverflow.com</a>）这样的网站上？</li>
</ul>
<h3 id="精通多种语言的程序员该怎么办"><a href="#精通多种语言的程序员该怎么办" class="headerlink" title="精通多种语言的程序员该怎么办"></a>精通多种语言的程序员该怎么办</h3><p>学富五车，或者灵活变通并同时仍有所专长让自己卓尔不群。如果你非要二选一，那先从专业化开始，再拓展分支。</p>
<blockquote>
<p>采取行动</p>
<ul>
<li>列出你能想到的所有软件开发的专业领域。从广义的范畴将它们逐一细化，看看你能细化到多具体。</li>
<li>你当前的专业领域是什么？如果没有的话，想想你会选择专攻哪个领域。</li>
<li>去主流的招聘网站上看看自己的专业领域市场行情如何。确定一下，专业化道路是会让自己受益，还是过度限制了自己的选择。</li>
</ul>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/10/nat-traversal-frp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Lin Yuanbo">
      <meta itemprop="description" content="A embedded programer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lim's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/10/nat-traversal-frp/" class="post-title-link" itemprop="url">内网穿透-FRP</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-06-10 00:00:00" itemprop="dateCreated datePublished" datetime="2021-06-10T00:00:00+00:00">2021-06-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-01-06 12:23:29" itemprop="dateModified" datetime="2022-01-06T12:23:29+00:00">2022-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BF%90%E7%BB%B4/" itemprop="url" rel="index"><span itemprop="name">运维</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>因为在家办公需要连接公司服务器，所以不得不使用内网穿透，记录一下配置笔记。</p>
</blockquote>
<h3 id="网络拓扑图"><a href="#网络拓扑图" class="headerlink" title="网络拓扑图"></a>网络拓扑图</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+--------------+       +-------------+      +----------------------------+       +-----------------+          +-----------------+</span><br><span class="line">|              |       |             |      |                            |       |                 |          |                 |</span><br><span class="line">|  personal PC +------&gt;+   gateway   +-----&gt;+    <span class="keyword">public</span> network server   +------&gt;+     gateway     +---------&gt;+  <span class="keyword">private</span> server |</span><br><span class="line">|              |       |             |      |                            |       |                 |          |                 |</span><br><span class="line">+--------------+       +-------------+      +----------------------------+       +-----------------+          +-----------------+</span><br><span class="line"></span><br><span class="line">说明：个人电脑通过公网服务器，连接公司内网服务器。</span><br></pre></td></tr></table></figure>

<h3 id="FRP-介绍"><a href="#FRP-介绍" class="headerlink" title="FRP 介绍"></a>FRP 介绍</h3><p>frp 是一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网。</p>
<p>仓库地址：<a target="_blank" rel="noopener" href="https://github.com/fatedier/frp">https://github.com/fatedier/frp</a></p>
<p>参考章节：<a target="_blank" rel="noopener" href="https://github.com/fatedier/frp#access-your-computer-in-lan-by-ssh">Access your computer in LAN by SSH</a></p>
<p>开机启动服务学习参考：<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html">Systemd 入门教程：命令篇</a> <a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-part-two.html">Systemd 入门教程：实战篇</a></p>
<blockquote>
<p>阮一峰 上面的这两篇文章写得真棒，奥力给！！！:yum:</p>
</blockquote>
<h3 id="服务器配置-服务端后缀s，例如：frps"><a href="#服务器配置-服务端后缀s，例如：frps" class="headerlink" title="服务器配置(服务端后缀s，例如：frps)"></a>服务器配置(服务端后缀s，例如：frps)</h3><ol>
<li><p>基础配置</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> lsb_release -a</span></span><br><span class="line">LSB Version:    :core-4.1-aarch64:core-4.1-noarch</span><br><span class="line">Distributor ID: CentOS</span><br><span class="line">Description:    CentOS Linux release 7.9.2009 (AltArch)</span><br><span class="line">Release:        7.9.2009</span><br><span class="line">Codename:       AltArch</span><br><span class="line"><span class="meta">#</span><span class="bash"> 服务器是 ARM 架构的服务器</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> uname -i</span></span><br><span class="line">aarch64</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 下载 ARM 架构的包</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> wget https://github.com/fatedier/frp/releases/download/v0.37.0/frp_0.37.  0_linux_arm64.tar.gz</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> tar -zxvf frp_0.37.0_linux_arm64.tar.gz</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 名字贼长......重命名一下...</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mv frp_0.37.0_linux_arm64 frp</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看当前开放的端口,确认没有使用监听的端口,例如:40000 没有被使用</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> netstat -antulp</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改配置文件,记得打开防火墙与指定的端口,例如:使用 40000</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vi frp/frps.ini</span></span><br><span class="line">[common]</span><br><span class="line">bind_port = 40000</span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动服务</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./frp/frps -c ./frp/frps.ini</span></span><br><span class="line">2021/06/10 20:27:45 [I] [root.go:200] frps uses config file: ./frp/frps.ini</span><br><span class="line">2021/06/10 20:27:45 [I] [service.go:192] frps tcp listen on 0.0.0.0:40000</span><br><span class="line">2021/06/10 20:27:45 [I] [root.go:209] frps started successfully</span><br><span class="line">...</span><br><span class="line"><span class="meta">#</span><span class="bash"> 打开另外一个终端,查看端口情况,确认上面使用的端口确实已经处于监听状态</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> netstat -antulp</span></span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address             State       PID/Program name</span><br><span class="line">tcp6       0      0 :::40000                :::*                        LISTEN      2072/./frp/frps</span><br></pre></td></tr></table></figure></li>
<li><p>添加服务</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 上面验证成功之后,添加服务</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo cp frp/systemd/frps.service /usr/lib/systemd/system/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改服务配置,如下:</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=Frp Server Service</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=root # 不知为何,这里需要改为 root 才能正常启动</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartSec=5s</span><br><span class="line">ExecStart=/home/linyuanbo/frp/frps -c /home/linyuanbo/frp/frps.ini # 执行指令,  你的 frp 程序+配置文件</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 从新加载服务,启动,查看状态,开机启动服务</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl daemon-reload</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl start frps.service</span></span><br><span class="line">● frps.service - Frp Server Service</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/frps.service; disabled; vendor   preset: disabled)</span><br><span class="line">   Active: active (running) since Thu 2021-06-10 20:39:37 CST; 17s ago</span><br><span class="line"> Main PID: 2440 (frps)</span><br><span class="line">   CGroup: /system.slice/frps.service</span><br><span class="line">           └─2440 /home/linyuanbo/frp/frps -c /home/linyuanbo/frp/frps.ini</span><br><span class="line">...</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl status frps.service</span></span><br><span class="line">sudo systemctl enable frps.service</span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/frps.service   to /usr/lib/systemd/system/frps.service.</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重启确认,完毕</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="客户端配置-客户端后缀c，例如：frpc"><a href="#客户端配置-客户端后缀c，例如：frpc" class="headerlink" title="客户端配置(客户端后缀c，例如：frpc)"></a>客户端配置(客户端后缀c，例如：frpc)</h3><ol>
<li><p>客户端操作记录</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 下载,解压,重命名,修改配置文件</span></span><br><span class="line">vi frp/frpc.ini</span><br><span class="line">[common]</span><br><span class="line">server_addr = xxx.xxx.xxx.xxx # 服务器地址</span><br><span class="line">server_port = 40000 # 上面配置的服务器监听端口</span><br><span class="line"></span><br><span class="line">[ssh]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1 # 本地服务地址</span><br><span class="line">local_port = 22 # 本地服务端口,例如:我需要使用 SSH 服务</span><br><span class="line">remote_port = 40001 # 远程端口使用 40001 吧,任意,确保服务器端口开放</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动服务</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./frp/frpc -c ./frp/frpc.ini</span></span><br><span class="line">2021/06/10 12:51:15 [I] [service.go:304] [...] login to server success, get     run id [...], server udp port [0]</span><br><span class="line">2021/06/10 12:51:15 [I] [proxy_manager.go:144] [...] proxy added: [ssh]</span><br><span class="line">2021/06/10 12:51:15 [I] [control.go:180] [...] [ssh] start proxy success</span><br></pre></td></tr></table></figure></li>
<li><p>服务端操作记录</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 确认刚刚设置的远程端口 40001 确实已经处于监听状态</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> netstat -antulp</span></span><br><span class="line">tcp6       0      0 :::40000                :::*                        LISTEN      -</span><br><span class="line">tcp6       0      0 :::40001                :::*                        LISTEN      -</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="验证成功"><a href="#验证成功" class="headerlink" title="验证成功"></a>验证成功</h3><p>使用 putty 简单粗暴的验证，输入服务器 IP 地址,远程端口(上面设置的 40001 )。</p>
<p>验证成功，可以访问内网的服务器，搞定收工！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/05/command-pattern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Lin Yuanbo">
      <meta itemprop="description" content="A embedded programer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lim's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/05/command-pattern/" class="post-title-link" itemprop="url">模板模式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-05-05 00:00:00" itemprop="dateCreated datePublished" datetime="2021-05-05T00:00:00+00:00">2021-05-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-01-06 12:23:29" itemprop="dateModified" datetime="2022-01-06T12:23:29+00:00">2022-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/RTOS/" itemprop="url" rel="index"><span itemprop="name">RTOS</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">设计模式</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>维基百科说明：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Template_method_pattern">模板模式</a></p>
<blockquote>
<p>命令模式（英语：Command pattern）是一种设计模式，它尝试以对象来代表实际行动。命令对象可以把行动(action) 及其参数封装起来，于是这些行动可以被：</p>
<ul>
<li>重复多次</li>
<li>取消（如果该对象有实现的话）</li>
<li>取消后又再重做</li>
</ul>
<p>这些都是现代大型应用程序所必须的功能，即“撤销”及“重复”。除此之外，可以用命令模式来实现的功能例子还有：</p>
<ul>
<li>交易行为</li>
<li>进度列</li>
<li>向导</li>
<li>用户界面按钮及功能表项目</li>
<li>线程 pool</li>
<li>宏收录</li>
</ul>
</blockquote>
<p>参考系统：<a target="_blank" rel="noopener" href="https://gitee.com/rtthread/rt-thread">RT-Thread</a></p>
<p>参考源码版本：<a target="_blank" rel="noopener" href="https://gitee.com/rtthread/rt-thread/tree/lts-v3.1.x">lts-v3.1.x</a></p>
<hr>
<p>函数名：<code>static cmd_function_t msh_get_cmd(char *cmd, int size)</code></p>
<p>函数理解：根据输入的 <code>cmd</code> 匹配相应的命令，返回该命令的函数指针，命令列表与函数指针在 <code>struct finsh_syscall *index</code> 中，<code>FINSH_NEXT_SYSCALL</code> 的实现与编译器相关。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">cmd_function_t</span> <span class="title">msh_get_cmd</span><span class="params">(<span class="keyword">char</span> *cmd, <span class="keyword">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">finsh_syscall</span> *<span class="title">index</span>;</span></span><br><span class="line">    <span class="keyword">cmd_function_t</span> cmd_func = RT_NULL;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (index = _syscall_table_begin;</span><br><span class="line">            index &lt; _syscall_table_end;</span><br><span class="line">            FINSH_NEXT_SYSCALL(index))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strncmp</span>(index-&gt;name, <span class="string">&quot;__cmd_&quot;</span>, <span class="number">6</span>) != <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strncmp</span>(&amp;index-&gt;name[<span class="number">6</span>], cmd, size) == <span class="number">0</span> &amp;&amp;</span><br><span class="line">                index-&gt;name[<span class="number">6</span> + size] == <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cmd_func = (<span class="keyword">cmd_function_t</span>)index-&gt;func;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cmd_func;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>理解总结：这种设计模式个人理解就是匹配表用户根据规则输入，通过判断判断条件，执行对应的函数，再次抽象可以实现为，匹配方法由用户自定义，可以是枚举匹配，字符对比，或者内存对比等，调用方法通常传入参数为用户私有数据。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/05/flyweight-pattern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Lin Yuanbo">
      <meta itemprop="description" content="A embedded programer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lim's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/05/flyweight-pattern/" class="post-title-link" itemprop="url">享元模式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-05-05 00:00:00" itemprop="dateCreated datePublished" datetime="2021-05-05T00:00:00+00:00">2021-05-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-01-06 12:23:29" itemprop="dateModified" datetime="2022-01-06T12:23:29+00:00">2022-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/RTOS/" itemprop="url" rel="index"><span itemprop="name">RTOS</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">设计模式</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>维基百科说明：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Flyweight_pattern">享元模式</a></p>
<blockquote>
<p>享元模式（英语：Flyweight Pattern）是一种软件设计模式。它使用物件用来尽可能减少内存使用量；于相似物件中分享尽可能多的资讯。当大量物件近乎重复方式存在，因而使用大量内存时，此法适用。通常物件中的部分状态(state)能够共享。常见做法是把它们放在数据结构外部，当需要使用时再将它们传递给享元。</p>
</blockquote>
<p>参考项目：<a target="_blank" rel="noopener" href="https://github.com/Pithikos/C-Thread-Pool.git">https://github.com/Pithikos/C-Thread-Pool.git</a></p>
<hr>
<p>这是一个简单的线程池实现源码，使用方法也很简单：</p>
<ol>
<li>添加头文件 <code>#include &quot;thpool.h&quot;</code>；</li>
<li>创建线程池，填入最大线程数量 <code>threadpool thpool = thpool_init(4);</code>；</li>
<li>添加任务加入线程池 <code>thpool_add_work(thpool, (void*)function_p, (void*)arg_p);</code>；</li>
</ol>
<p>函数名：<code>struct thpool_* thpool_init(int num_threads)</code></p>
<p>函数理解：一些简单的初始化工作，其中最主要的就是根据线程池数量，创建多个线程，这些已经创建的线程，运行的任务是 <code>static void* thread_do(struct thread* thread_p)</code>。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Initialise thread pool */</span></span><br><span class="line"><span class="function">struct thpool_* <span class="title">thpool_init</span><span class="params">(<span class="keyword">int</span> num_threads)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    threads_on_hold   = <span class="number">0</span>;</span><br><span class="line">    threads_keepalive = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (num_threads &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        num_threads = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Make new thread pool */</span></span><br><span class="line">    thpool_* thpool_p;</span><br><span class="line">    thpool_p = (struct thpool_*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct thpool_));</span><br><span class="line">    <span class="keyword">if</span> (thpool_p == <span class="literal">NULL</span>)&#123;</span><br><span class="line">        err(<span class="string">&quot;thpool_init(): Could not allocate memory for thread pool\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    thpool_p-&gt;num_threads_alive   = <span class="number">0</span>;</span><br><span class="line">    thpool_p-&gt;num_threads_working = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Initialise the job queue */</span></span><br><span class="line">    <span class="keyword">if</span> (jobqueue_init(&amp;thpool_p-&gt;jobqueue) == <span class="number">-1</span>)&#123;</span><br><span class="line">        err(<span class="string">&quot;thpool_init(): Could not allocate memory for job queue\n&quot;</span>);</span><br><span class="line">        <span class="built_in">free</span>(thpool_p);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Make threads in pool */</span></span><br><span class="line">    thpool_p-&gt;threads = (struct thread**)<span class="built_in">malloc</span>(num_threads * <span class="keyword">sizeof</span>(struct thread *));</span><br><span class="line">    <span class="keyword">if</span> (thpool_p-&gt;threads == <span class="literal">NULL</span>)&#123;</span><br><span class="line">        err(<span class="string">&quot;thpool_init(): Could not allocate memory for threads\n&quot;</span>);</span><br><span class="line">        jobqueue_destroy(&amp;thpool_p-&gt;jobqueue);</span><br><span class="line">        <span class="built_in">free</span>(thpool_p);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    pthread_mutex_init(&amp;(thpool_p-&gt;thcount_lock), <span class="literal">NULL</span>);</span><br><span class="line">    pthread_cond_init(&amp;thpool_p-&gt;threads_all_idle, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Thread init */</span></span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">for</span> (n=<span class="number">0</span>; n&lt;num_threads; n++)&#123;</span><br><span class="line">        thread_init(thpool_p, &amp;thpool_p-&gt;threads[n], n);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> THPOOL_DEBUG</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;THPOOL_DEBUG: Created thread %d in pool \n&quot;</span>, n);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Wait for threads to initialize */</span></span><br><span class="line">    <span class="keyword">while</span> (thpool_p-&gt;num_threads_alive != num_threads) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> thpool_p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>函数名：<code>static void* thread_do(struct thread* thread_p)</code></p>
<p>函数理解：</p>
<ol>
<li>这个任务等一个条件变量，即：<code>bsem_wait(thpool_p-&gt;jobqueue.has_jobs);</code>，当没有条件变量时，所有的任务都处于挂起休眠状态，触发这个条件变量的函数是 <code>int thpool_add_work(thpool_* thpool_p, void (*function_p)(void*), void* arg_p)</code>。</li>
<li>当任务完成时，将任务从任务链表中删除，再次等待条件变量，如果有任务，则运行下一个任务，否则进入休眠状态；</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* What each thread is doing</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* In principle this is an endless loop. The only time this loop gets interuppted is once</span></span><br><span class="line"><span class="comment">* thpool_destroy() is invoked or the program exits.</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* @param  thread        thread that will run this function</span></span><br><span class="line"><span class="comment">* @return nothing</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span>* <span class="title">thread_do</span><span class="params">(struct thread* thread_p)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Set thread name for profiling and debuging */</span></span><br><span class="line">    <span class="keyword">char</span> thread_name[<span class="number">32</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="built_in">snprintf</span>(thread_name, <span class="number">32</span>, <span class="string">&quot;thread-pool-%d&quot;</span>, thread_p-&gt;id);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined(__linux__)</span></span><br><span class="line">    <span class="comment">/* Use prctl instead to prevent using _GNU_SOURCE flag and implicit declaration */</span></span><br><span class="line">    prctl(PR_SET_NAME, thread_name);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">elif</span> defined(__APPLE__) &amp;&amp; defined(__MACH__)</span></span><br><span class="line">    pthread_setname_np(thread_name);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">    err(<span class="string">&quot;thread_do(): pthread_setname_np is not supported on this system&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Assure all threads have been created before starting serving */</span></span><br><span class="line">    thpool_* thpool_p = thread_p-&gt;thpool_p;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Register signal handler */</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sigaction</span> <span class="title">act</span>;</span></span><br><span class="line">    sigemptyset(&amp;act.sa_mask);</span><br><span class="line">    act.sa_flags = <span class="number">0</span>;</span><br><span class="line">    act.sa_handler = thread_hold;</span><br><span class="line">    <span class="keyword">if</span> (sigaction(SIGUSR1, &amp;act, <span class="literal">NULL</span>) == <span class="number">-1</span>) &#123;</span><br><span class="line">        err(<span class="string">&quot;thread_do(): cannot handle SIGUSR1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Mark thread as alive (initialized) */</span></span><br><span class="line">    pthread_mutex_lock(&amp;thpool_p-&gt;thcount_lock);</span><br><span class="line">    thpool_p-&gt;num_threads_alive += <span class="number">1</span>;</span><br><span class="line">    pthread_mutex_unlock(&amp;thpool_p-&gt;thcount_lock);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(threads_keepalive)&#123;</span><br><span class="line"></span><br><span class="line">        bsem_wait(thpool_p-&gt;jobqueue.has_jobs);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (threads_keepalive)&#123;</span><br><span class="line"></span><br><span class="line">            pthread_mutex_lock(&amp;thpool_p-&gt;thcount_lock);</span><br><span class="line">            thpool_p-&gt;num_threads_working++;</span><br><span class="line">            pthread_mutex_unlock(&amp;thpool_p-&gt;thcount_lock);</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Read job from queue and execute it */</span></span><br><span class="line">            <span class="keyword">void</span> (*func_buff)(<span class="keyword">void</span>*);</span><br><span class="line">            <span class="keyword">void</span>*  arg_buff;</span><br><span class="line">            job* job_p = jobqueue_pull(&amp;thpool_p-&gt;jobqueue);</span><br><span class="line">            <span class="keyword">if</span> (job_p) &#123;</span><br><span class="line">                func_buff = job_p-&gt;function;</span><br><span class="line">                arg_buff  = job_p-&gt;arg;</span><br><span class="line">                func_buff(arg_buff);</span><br><span class="line">                <span class="built_in">free</span>(job_p);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            pthread_mutex_lock(&amp;thpool_p-&gt;thcount_lock);</span><br><span class="line">            thpool_p-&gt;num_threads_working--;</span><br><span class="line">            <span class="keyword">if</span> (!thpool_p-&gt;num_threads_working) &#123;</span><br><span class="line">                pthread_cond_signal(&amp;thpool_p-&gt;threads_all_idle);</span><br><span class="line">            &#125;</span><br><span class="line">            pthread_mutex_unlock(&amp;thpool_p-&gt;thcount_lock);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    pthread_mutex_lock(&amp;thpool_p-&gt;thcount_lock);</span><br><span class="line">    thpool_p-&gt;num_threads_alive --;</span><br><span class="line">    pthread_mutex_unlock(&amp;thpool_p-&gt;thcount_lock);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>理解总结：</p>
<ol>
<li>在某些大量并且需要及时处理的消息情况下，似乎可以使用线程池这种方式，快速的响应每条消息，每条消息使用单独的线程去完成。</li>
<li>其实也存在某些长时间需要处理的任务，比如一些轮询任务，状态机任务，这些任务重要但不紧急，这种情况似乎可以使用一个空闲线程添加任务链的方式去完成。</li>
<li>对于享元模式理解并不充分，后续待完善。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/05/template-method-pattern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Lin Yuanbo">
      <meta itemprop="description" content="A embedded programer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lim's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/05/template-method-pattern/" class="post-title-link" itemprop="url">模板模式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-05-05 00:00:00" itemprop="dateCreated datePublished" datetime="2021-05-05T00:00:00+00:00">2021-05-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-01-06 12:23:29" itemprop="dateModified" datetime="2022-01-06T12:23:29+00:00">2022-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/RTOS/" itemprop="url" rel="index"><span itemprop="name">RTOS</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">设计模式</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>维基百科说明：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Template_method_pattern">模板模式</a></p>
<blockquote>
<p>模板方法模型是一种行为设计模型。模板方法是一个定义在父类别的方法，在模板方法中会呼叫多个定义在父类别的其他方法，而这些方法有可能只是抽象方法并没有实作，模板方法仅决定这些抽象方法的执行顺序，这些抽象方法的实作由子类别负责，并且子类别不允许覆写模板方法。</p>
</blockquote>
<p>参考源码：<a target="_blank" rel="noopener" href="https://elixir.bootlin.com/linux/v4.1.15/source/drivers/mtd/nand/nand_base.c">nand_base.c</a></p>
<hr>
<p>函数名：<code>nand_write_oob_std</code></p>
<p>函数理解：根据注释，理解为大多数 OOB 数据共同的写入方式函数接口</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * nand_write_oob_std - [REPLACEABLE] the most common OOB data write function</span></span><br><span class="line"><span class="comment"> * @mtd: mtd info structure</span></span><br><span class="line"><span class="comment"> * @chip: nand chip info structure</span></span><br><span class="line"><span class="comment"> * @page: page number to write</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">nand_write_oob_std</span><span class="params">(struct mtd_info *mtd, struct nand_chip *chip,</span></span></span><br><span class="line"><span class="params"><span class="function">                  <span class="keyword">int</span> page)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> status = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">uint8_t</span> *buf = chip-&gt;oob_poi;</span><br><span class="line">    <span class="keyword">int</span> length = mtd-&gt;oobsize;</span><br><span class="line"></span><br><span class="line">    chip-&gt;cmdfunc(mtd, NAND_CMD_SEQIN, mtd-&gt;writesize, page);</span><br><span class="line">    chip-&gt;write_buf(mtd, buf, length);</span><br><span class="line">    <span class="comment">/* Send command to program the OOB data */</span></span><br><span class="line">    chip-&gt;cmdfunc(mtd, NAND_CMD_PAGEPROG, <span class="number">-1</span>, <span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">    status = chip-&gt;waitfunc(mtd, chip);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> status &amp; NAND_STATUS_FAIL ? -EIO : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>理解总结：</p>
<ol>
<li>对于一些流程相同的逻辑，把共同的部分抽象出来，把不同的地方暴露给外部，由具体情况具体实现，每次调用这个接口都执行相同的流程。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/03/observer-parttern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Lin Yuanbo">
      <meta itemprop="description" content="A embedded programer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lim's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/03/observer-parttern/" class="post-title-link" itemprop="url">观察者模式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-05-03 00:00:00" itemprop="dateCreated datePublished" datetime="2021-05-03T00:00:00+00:00">2021-05-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-01-06 12:23:29" itemprop="dateModified" datetime="2022-01-06T12:23:29+00:00">2022-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/RTOS/" itemprop="url" rel="index"><span itemprop="name">RTOS</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">设计模式</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>维基百科说明：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Observer_pattern">观察者模式</a></p>
<blockquote>
<p>观察者模式是软件设计模式的一种。在此种模式中，一个目标对象管理所有相依于它的观察者对象，并且在它本身的状态改变时主动发出通知。这通常透过呼叫各观察者所提供的方法来实现。此种模式通常被用来实时事件处理系统。</p>
</blockquote>
<p>参考系统：<a target="_blank" rel="noopener" href="https://elixir.bootlin.com/linux/v4.1.15/source">Linux</a></p>
<hr>
<p>函数名：<code>notifier_chain_register</code></p>
<p>函数理解：通知链的注册接口，<code>nl</code> 为通知链头，<code>n</code> 为通知链具体回调函数实现块</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *  Notifier chain core routines.  The exported routines below</span></span><br><span class="line"><span class="comment"> *  are layered on top of these, with appropriate locking added.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">notifier_chain_register</span><span class="params">(struct notifier_block **nl,</span></span></span><br><span class="line"><span class="params"><span class="function">            struct notifier_block *n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> ((*nl) != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (n-&gt;priority &gt; (*nl)-&gt;priority)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        nl = &amp;((*nl)-&gt;next);</span><br><span class="line">    &#125;</span><br><span class="line">    n-&gt;next = *nl;</span><br><span class="line">    rcu_assign_pointer(*nl, n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>函数名：<code>notifier_call_chain</code></p>
<p>函数理解：通知链触发响应事件接口</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * notifier_call_chain - Informs the registered notifiers about an event.</span></span><br><span class="line"><span class="comment"> *  @nl:        Pointer to head of the blocking notifier chain</span></span><br><span class="line"><span class="comment"> *  @val:        Value passed unmodified to notifier function</span></span><br><span class="line"><span class="comment"> *  @v:        Pointer passed unmodified to notifier function</span></span><br><span class="line"><span class="comment"> *  @nr_to_call:    Number of notifier functions to be called. Don&#x27;t care</span></span><br><span class="line"><span class="comment"> *          value of this parameter is -1.</span></span><br><span class="line"><span class="comment"> *  @nr_calls:    Records the number of notifications sent. Don&#x27;t care</span></span><br><span class="line"><span class="comment"> *          value of this field is NULL.</span></span><br><span class="line"><span class="comment"> *  @returns:    notifier_call_chain returns the value returned by the</span></span><br><span class="line"><span class="comment"> *          last notifier function called.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">notifier_call_chain</span><span class="params">(struct notifier_block **nl,</span></span></span><br><span class="line"><span class="params"><span class="function">                   <span class="keyword">unsigned</span> <span class="keyword">long</span> val, <span class="keyword">void</span> *v,</span></span></span><br><span class="line"><span class="params"><span class="function">                   <span class="keyword">int</span> nr_to_call, <span class="keyword">int</span> *nr_calls)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = NOTIFY_DONE;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">notifier_block</span> *<span class="title">nb</span>, *<span class="title">next_nb</span>;</span></span><br><span class="line"></span><br><span class="line">    nb = rcu_dereference_raw(*nl);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (nb &amp;&amp; nr_to_call) &#123;</span><br><span class="line">        next_nb = rcu_dereference_raw(nb-&gt;next);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> CONFIG_DEBUG_NOTIFIERS</span></span><br><span class="line">        <span class="keyword">if</span> (unlikely(!func_ptr_is_kernel_text(nb-&gt;notifier_call))) &#123;</span><br><span class="line">            WARN(<span class="number">1</span>, <span class="string">&quot;Invalid notifier called!&quot;</span>);</span><br><span class="line">            nb = next_nb;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">        ret = nb-&gt;notifier_call(nb, val, v);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (nr_calls)</span><br><span class="line">            (*nr_calls)++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ((ret &amp; NOTIFY_STOP_MASK) == NOTIFY_STOP_MASK)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        nb = next_nb;</span><br><span class="line">        nr_to_call--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line">NOKPROBE_SYMBOL(notifier_call_chain);</span><br></pre></td></tr></table></figure>

<hr>
<p>理解总结：</p>
<ol>
<li>观察者模式感觉类似与发布订阅的机制，多个订阅者订阅同一个发布者，当发布者状态发生改变，触发/通知订阅者执行自己需要执行的任务。</li>
<li>对于上述接口，订阅者调用 <code>notifier_chain_register</code>，发布者状态改变调用 <code>notifier_call_chain</code>。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Lin Yuanbo"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Lin Yuanbo</p>
  <div class="site-description" itemprop="description">A embedded programer</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">66</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">1111111</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
